!function(e){function t(l){if(o[l])return o[l].exports;var n=o[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,l){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(1)},function(e,t,o){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(2),i=(o.n(r),o(3)),u=(o.n(i),function(){function e(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,o,l){return o&&e(t.prototype,o),l&&e(t,l),t}}()),c=wp.i18n.__,s=wp.element.Component,d=wp.blocks.registerBlockType,p=wp.editor,m=p.InnerBlocks,b=p.InspectorControls,g=p.ColorPalette,y=p.BlockAlignmentToolbar,C=(p.AlignmentToolbar,wp.components),f=C.TextControl,v=C.SelectControl,w=C.RangeControl,x=C.IconButton,k=function(e){function t(){l(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isEditing:!1,colorSelector:"titleColor"},e}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e="myModal"+Math.floor(1e3*Math.random());this.props.setAttributes({randomKey:e})}},{key:"render",value:function(){var e=this,t=this.props,o=t.attributes,l=t.setAttributes,n=t.className,a=(t.focus,t.isSelected),r=function(t){t.stopPropagation(),s(o.animation,".colorPreview"),e.setState({colorSelector:t.target.className})},i=function(t){s(o.animation,".colorPreview"),e.setState({colorSelector:"textBackgroundColor"})},u={colorPreview:{borderRadius:o.borderRadius,width:"100%",height:"60px",backgroundColor:o.textBackgroundColor,boxShadow:"0 2px 5px rgba(0, 0, 0, 0.5)",marginBottom:"3px"},previewBox:{titleBackgroundColor:{backgroundColor:o.titleBackgroundColor,borderBottom:"1px solid #e5e5e5",height:"40%",borderRadius:o.borderRadius+"px "+o.borderRadius+"px 0 0"},titleColor:{display:"inline",color:o.titleColor,padding:"5px"},textColor:{width:"20%",color:o.textColor,padding:"5px"}},modal:{modalContent:{backgroundColor:o.textBackgroundColor,color:o.textColor,borderRadius:o.borderRadius},modalHeader:{backgroundColor:o.titleBackgroundColor,borderRadius:o.borderRadius+"px "+o.borderRadius+"px 0 0"},modalTitle:{color:o.titleColor}},button:{backgroundColor:o.buttonColor,color:o.buttonTextColor}},s=function(e,t){"shake"==e?jQuery(t).velocity("callout."+e):"pulse"==e?jQuery(t).velocity("callout."+e):"tada"==e?jQuery(t).velocity("callout."+e):"flash"==e?jQuery(t).velocity("callout."+e):"bounce"==e?jQuery(t).velocity("callout."+e):"swing"==e?jQuery(t).velocity("callout."+e):jQuery(t).velocity("transition."+e)};return[a&&[wp.element.createElement(b,null,wp.element.createElement(v,{label:c("Size: "),value:o.size,options:[{value:" modal-lg",label:"Large"},{value:"",label:"Medium"},{value:" modal-sm",label:"Small"}],onChange:function(e){return l({size:e})}}),wp.element.createElement(v,{className:"animation-select-control",style:{width:"100%"},label:c("Animation: "),value:o.animation,options:[{value:"fadeIn",label:c("Fade In")},{value:"bounce",label:c("Bounce")},{value:"shake",label:c("Shake")},{value:"flipBounceYIn",label:c("Flip")},{value:"shrinkIn",label:c("Zoom Out")},{value:"expandIn",label:c("Zoom In")},{value:"slideDownIn",label:c("Slide In")},{value:"perspectiveLeftIn",label:c("Perspective In")},{value:"pulse",label:c("Pulse")},{value:"swing",label:c("Swing")},{value:"tada",label:c("Tada")}],onChange:function(e){l({animation:e}),s(e,".animation-select-control")}}),wp.element.createElement(v,{label:c("Change Color For: "),value:this.state.colorSelector,options:[{value:"titleColor",label:c("Title")},{value:"titleBackgroundColor",label:c("Title Background")},{value:"textBackgroundColor",label:c("Content Background")},{value:"buttonColor",label:c("Button")},{value:"buttonTextColor",label:c("Button Text")}],onChange:function(t){return e.setState({colorSelector:t})}}),wp.element.createElement(g,{onChange:function(t){switch(e.state.colorSelector){case"textBackgroundColor":l({textBackgroundColor:t});break;case"titleBackgroundColor":l({titleBackgroundColor:t});break;case"titleColor":l({titleColor:t});break;case"buttonColor":l({buttonColor:t});break;case"buttonTextColor":l({buttonTextColor:t})}}}),wp.element.createElement(w,{label:c("Rounded Corners: "),value:o.borderRadius/3,min:0,max:5,onChange:function(e){return l({borderRadius:3*e})}}),c("Mini Preview:"),wp.element.createElement("div",{className:"colorPreview",onClick:function(e){return i()},style:u.colorPreview},wp.element.createElement("div",{className:"titleBackgroundColor",style:u.previewBox.titleBackgroundColor,onClick:function(e){return r(e)}},wp.element.createElement("h2",{className:"titleColor",style:u.previewBox.titleColor,onClick:function(e){return r(e)}},o.title),wp.element.createElement("h2",{className:"textBackgroundColor",style:{textAlign:"center"},onClick:function(e){return r(e)}},"..."))))],wp.element.createElement("div",null,this.state.isEditing?wp.element.createElement("div",{className:"pop-up-editor-container"},wp.element.createElement(f,{label:"Button Text:",onChange:function(e){return l({buttonText:e})},value:o.buttonText,placeholder:"Button Text"}),wp.element.createElement(f,{label:"Pop Up Title:",onChange:function(e){return l({title:e})},value:o.title,placeholder:"Pop Up Title"}),wp.element.createElement("label",{class:"blocks-base-control__label"},"Pop Up Content:"),wp.element.createElement(m,null),wp.element.createElement("div",{style:{textAlign:"right"}},wp.element.createElement("span",null,"Close and apply:"),wp.element.createElement(x,{style:{display:"inline-block"},icon:"editor-break",label:c("Apply"),type:"submit",onClick:function(t){t.preventDefault(),e.setState({isEditing:!1})}}))):wp.element.createElement("div",null,a&&wp.element.createElement(y,{value:o.align,onChange:function(e){l({align:"right"===e?"flex-end":e})}}),wp.element.createElement("div",{style:{display:"flex",justifyContent:o.align},className:n,onClick:function(){return e.setState({isEditing:!0})}},wp.element.createElement("p",null,wp.element.createElement("button",{style:u.button,type:"button",className:"btn btn-primary btn-lg","data-toggle":"modal"},o.buttonText)))))]}}]),t}(s);d("blockparty/block-gutenberg-pop-up",{title:c("BP Pop Up"),icon:"external",category:"common",description:c("Create a custom pop-up modal!"),attributes:{title:{type:"string",default:""},buttonText:{type:"string",default:"Click Me"},align:{type:"string",default:"left"},randomKey:{type:"string",default:"myModal"},size:{type:"string",default:""},textBackgroundColor:{type:"string",default:""},titleBackgroundColor:{type:"string",default:""},textColor:{type:"string",default:""},titleColor:{type:"string",default:""},buttonColor:{type:"string",default:""},buttonTextColor:{type:"string",default:""},borderRadius:{type:"number",default:6},animation:{type:"string",default:"fadeIn"}},keywords:[c("Pop Up"),c("Block Party")],edit:k,save:function(e){var t=e.attributes,o=e.className,l={modal:{modalContent:{backgroundColor:t.textBackgroundColor,color:t.textColor,borderRadius:t.borderRadius},modalHeader:{backgroundColor:t.titleBackgroundColor,borderRadius:t.borderRadius+"px "+t.borderRadius+"px 0 0"},modalTitle:{color:t.titleColor}},button:{backgroundColor:t.buttonColor,color:t.buttonTextColor}};return wp.element.createElement("div",{className:o,style:{display:"flex",justifyContent:t.align}},wp.element.createElement("p",null,wp.element.createElement("button",{style:l.button,type:"button",className:"btn btn-primary btn-lg","data-toggle":"modal","data-target":"#"+t.randomKey},t.buttonText)),wp.element.createElement("div",{className:"modal","data-easein":t.animation,id:t.randomKey,style:{color:t.textColor},tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"},wp.element.createElement("div",{className:"modal-dialog"+t.size,role:"document"},wp.element.createElement("div",{className:"modal-content",style:l.modal.modalContent},wp.element.createElement("div",{className:"modal-header",style:l.modal.modalHeader},wp.element.createElement("h4",{className:"modal-title",id:"myModalLabel",style:l.modal.modalTitle},t.title),wp.element.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},wp.element.createElement("span",{"aria-hidden":"true"},"\xd7"))),wp.element.createElement("div",{className:"modal-body"},wp.element.createElement(m.Content,null))))))}})},function(e,t){},function(e,t){}]);