!function(e){function t(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);n.n(o)},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.i18n.__,i=wp.element.Component,u=wp.blocks.registerBlockType,c=wp.editor,s=c.InnerBlocks,p=c.InspectorControls,d=c.ColorPalette,m=c.BlockAlignmentToolbar,b=(c.AlignmentToolbar,c.PlainText),f=wp.components,g=f.TextControl,y=f.SelectControl,v=f.RangeControl,C=f.IconButton,w=f.PanelBody,k=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isEditing:!1},e}return l(t,e),r(t,[{key:"componentDidMount",value:function(){var e="myModal"+Math.floor(1e3*Math.random());this.props.setAttributes({randomKey:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,o=t.setAttributes,l=t.className,r=(t.focus,t.isSelected),i=function(t){t.stopPropagation(),k(n.animation,".colorPreview"),e.setState({colorSelector:t.target.className})},u=function(t){k(n.animation,".colorPreview"),e.setState({colorSelector:"textBackgroundColor"})},c=function(e,t){return[wp.element.createElement("p",null,a(t)),wp.element.createElement(d,{onChange:function(t){var n={};n[e]=t,o(n)}})]},f={colorPreview:{borderRadius:n.borderRadius,width:"100%",height:"60px",backgroundColor:n.textBackgroundColor,boxShadow:"0 2px 5px rgba(0, 0, 0, 0.5)",marginBottom:"3px"},previewBox:{titleBackgroundColor:{backgroundColor:n.titleBackgroundColor,borderBottom:"1px solid #e5e5e5",height:"40%",borderRadius:n.borderRadius+"px "+n.borderRadius+"px 0 0"},titleColor:{display:"inline",color:n.titleColor,padding:"5px"},textColor:{width:"20%",color:n.textColor,padding:"5px"}},modal:{modalContent:{backgroundColor:n.textBackgroundColor,color:n.textColor,borderRadius:n.borderRadius},modalHeader:{backgroundColor:n.titleBackgroundColor,borderRadius:n.borderRadius+"px "+n.borderRadius+"px 0 0"},modalTitle:{color:n.titleColor}},button:{backgroundColor:n.buttonColor,color:n.buttonTextColor}},k=function(e,t){"shake"==e?jQuery(t).velocity("callout."+e):"pulse"==e?jQuery(t).velocity("callout."+e):"tada"==e?jQuery(t).velocity("callout."+e):"flash"==e?jQuery(t).velocity("callout."+e):"bounce"==e?jQuery(t).velocity("callout."+e):"swing"==e?jQuery(t).velocity("callout."+e):jQuery(t).velocity("transition."+e)};return[r&&[wp.element.createElement(p,null,wp.element.createElement(y,{label:a("Size: "),value:n.size,options:[{value:" modal-lg",label:"Large"},{value:"",label:"Medium"},{value:" modal-sm",label:"Small"}],onChange:function(e){return o({size:e})}}),wp.element.createElement(y,{className:"animation-select-control",style:{width:"100%"},label:a("Animation: "),value:n.animation,options:[{value:"fadeIn",label:a("Fade In")},{value:"bounce",label:a("Bounce")},{value:"shake",label:a("Shake")},{value:"flipBounceYIn",label:a("Flip")},{value:"shrinkIn",label:a("Zoom Out")},{value:"expandIn",label:a("Zoom In")},{value:"slideDownIn",label:a("Slide In")},{value:"perspectiveLeftIn",label:a("Perspective In")},{value:"pulse",label:a("Pulse")},{value:"swing",label:a("Swing")},{value:"tada",label:a("Tada")}],onChange:function(e){o({animation:e}),k(e,".animation-select-control")}}),wp.element.createElement(w,{title:a("Title Settings"),initialOpen:!1},wp.element.createElement(g,{label:"Pop Up Title:",onChange:function(e){return o({title:e})},value:n.title,placeholder:"Pop Up Title"}),c("titleColor","Title Color"),c("titleBackgroundColor","Title Background Color")),wp.element.createElement(w,{title:a("Content Settings"),initialOpen:!1},c("textBackgroundColor","Text Background Color")),wp.element.createElement(w,{title:a("Button Settings"),initialOpen:!1},c("buttonTextColor","Button Text Color"),c("buttonColor","Button Background Color")),wp.element.createElement(v,{label:a("Rounded Corners: "),value:n.borderRadius/3,min:0,max:5,onChange:function(e){return o({borderRadius:3*e})}}),a("Mini Preview:"),wp.element.createElement("div",{className:"colorPreview",onClick:function(e){return u()},style:f.colorPreview},wp.element.createElement("div",{className:"titleBackgroundColor",style:f.previewBox.titleBackgroundColor,onClick:function(e){return i(e)}},wp.element.createElement("h2",{className:"titleColor",style:f.previewBox.titleColor,onClick:function(e){return i(e)}},n.title),wp.element.createElement("h2",{className:"textBackgroundColor",style:{textAlign:"center"},onClick:function(e){return i(e)}},"..."))))],r||this.state.isEditing?wp.element.createElement(m,{value:n.align,onChange:function(e){o({align:"right"===e?"flex-end":e})}}):null,wp.element.createElement("div",null,this.state.isEditing?wp.element.createElement("div",{className:"pop-up-editor-container"},wp.element.createElement("div",{style:{display:"flex",justifyContent:n.align},className:l,onClick:function(){return e.setState({isEditing:!0})}},wp.element.createElement("p",null,wp.element.createElement("span",{style:f.button,type:"button",className:"button"},wp.element.createElement(b,{value:n.buttonText,style:{backgroundColor:"transparent"},onChange:function(e){return o({buttonText:e})}})))),wp.element.createElement("label",{class:"blocks-base-control__label"},"Pop Up Content:"),wp.element.createElement(s,null),wp.element.createElement("div",{style:{textAlign:"right"}},wp.element.createElement(C,{style:{display:"inline-block"},icon:"yes",label:a("Apply"),type:"submit",onClick:function(t){t.preventDefault(),e.setState({isEditing:!1})}}))):wp.element.createElement("div",null,wp.element.createElement("div",{style:{display:"flex",justifyContent:n.align},className:l,onClick:function(){return e.setState({isEditing:!0})}},wp.element.createElement("p",null,wp.element.createElement("button",{style:f.button,type:"button",className:"button","data-toggle":"modal"},n.buttonText))),r&&wp.element.createElement("div",{style:{textAlign:"right"}},wp.element.createElement(C,{style:{display:"inline-block"},icon:"edit",label:a("Edit Popup Content"),type:"submit",onClick:function(t){t.preventDefault(),e.setState({isEditing:!0})}}))))]}}]),t}(i);u("blockparty/block-gutenberg-pop-up",{title:a("Block Party Pop Up"),icon:"external",category:"common",description:a("Create a custom pop-up modal!"),keywords:[a("Pop Up"),a("Block Party")],edit:k,save:function(){return wp.element.createElement(s.Content,null)}})}]);